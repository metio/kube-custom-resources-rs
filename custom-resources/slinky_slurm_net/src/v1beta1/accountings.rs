// WARNING: generated by kopium - manual changes will be overwritten
// kopium command: kopium --docs --derive=Default --derive=PartialEq --smart-derive-elision --filename crd-catalog/SlinkyProject/slurm-operator/slinky.slurm.net/v1beta1/accountings.yaml
// kopium version: 0.22.5

#[allow(unused_imports)]
mod prelude {
    pub use kube::CustomResource;
    pub use serde::{Serialize, Deserialize};
    pub use std::collections::BTreeMap;
    pub use k8s_openapi::apimachinery::pkg::apis::meta::v1::Condition;
}
use self::prelude::*;

/// AccountingSpec defines the desired state of Accounting
#[derive(CustomResource, Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
#[kube(group = "slinky.slurm.net", version = "v1beta1", kind = "Accounting", plural = "accountings")]
#[kube(namespaced)]
#[kube(status = "AccountingStatus")]
#[kube(schema = "disabled")]
#[kube(derive="Default")]
#[kube(derive="PartialEq")]
pub struct AccountingSpec {
    /// external indicates if this component is external to Kubernetes or not.
    /// If true, then externalConfig is used and other fields are ignored.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub external: Option<bool>,
    /// ExternalConfig describes how to communicate with this external component.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "externalConfig")]
    pub external_config: Option<AccountingExternalConfig>,
    /// ExtraConf is appended onto the end of the `slurmdbd.conf` file.
    /// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html>
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "extraConf")]
    pub extra_conf: Option<String>,
    /// Slurm `auth/jwt` JWT HS256 key authentication.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "jwtHs256KeyRef")]
    pub jwt_hs256_key_ref: Option<AccountingJwtHs256KeyRef>,
    /// Service defines a template for a Kubernetes Service object.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub service: Option<AccountingService>,
    /// Slurm `auth/slurm` key authentication.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "slurmKeyRef")]
    pub slurm_key_ref: Option<AccountingSlurmKeyRef>,
    /// The slurmdbd container configuration.
    /// See corev1.Container spec.
    /// Ref: <https://github.com/kubernetes/api/blob/master/core/v1/types.go#L2885>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub slurmdbd: Option<BTreeMap<String, serde_json::Value>>,
    /// StorageConfig is the configuration for mysql/mariadb access.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "storageConfig")]
    pub storage_config: Option<AccountingStorageConfig>,
    /// Template is the object that describes the pod that will be created if
    /// insufficient replicas are detected.
    /// More info: <https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub template: Option<AccountingTemplate>,
}

/// ExternalConfig describes how to communicate with this external component.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingExternalConfig {
    /// Host defines the hostname or IP address to communicate with.
    pub host: String,
    /// Port defines the port to communicate over.
    pub port: i64,
}

/// Slurm `auth/jwt` JWT HS256 key authentication.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingJwtHs256KeyRef {
    /// The key of the secret to select from.  Must be a valid secret key.
    pub key: String,
    /// Name of the referent.
    /// This field is effectively required, but due to backwards compatibility is
    /// allowed to be empty. Instances of this type with an empty value here are
    /// almost certainly wrong.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub name: Option<String>,
    /// Specify whether the Secret or its key must be defined
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub optional: Option<bool>,
}

/// Service defines a template for a Kubernetes Service object.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingService {
    /// Standard object's metadata.
    /// More info: <https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub metadata: Option<AccountingServiceMetadata>,
    /// The port on each node on which this service is exposed when type is
    /// NodePort or LoadBalancer.  Usually assigned by the system. If a value is
    /// specified, in-range, and not in use it will be used, otherwise the
    /// operation will fail.  If not specified, a port will be allocated if this
    /// Service requires one.  If this field is specified when creating a
    /// Service which does not need it, creation will fail.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "nodePort")]
    pub node_port: Option<i64>,
    /// The external service port number.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub port: Option<i64>,
    /// ServiceSpec describes the attributes that a user creates on a service.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub spec: Option<BTreeMap<String, serde_json::Value>>,
}

/// Standard object's metadata.
/// More info: <https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingServiceMetadata {
    /// Annotations is an unstructured key value map stored with a resource that may be
    /// set by external tools to store and retrieve arbitrary metadata. They are not
    /// queryable and should be preserved when modifying objects.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub annotations: Option<BTreeMap<String, String>>,
    /// Map of string keys and values that can be used to organize and categorize
    /// (scope and select) objects. May match selectors of replication controllers
    /// and services.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/labels>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub labels: Option<BTreeMap<String, String>>,
}

/// Slurm `auth/slurm` key authentication.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingSlurmKeyRef {
    /// The key of the secret to select from.  Must be a valid secret key.
    pub key: String,
    /// Name of the referent.
    /// This field is effectively required, but due to backwards compatibility is
    /// allowed to be empty. Instances of this type with an empty value here are
    /// almost certainly wrong.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub name: Option<String>,
    /// Specify whether the Secret or its key must be defined
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub optional: Option<bool>,
}

/// StorageConfig is the configuration for mysql/mariadb access.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingStorageConfig {
    /// Specify the name of the database as the location where accounting records
    /// are written.
    /// Default is "slurm_acct_db".
    /// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html#OPT_StorageLoc>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub database: Option<String>,
    /// Define the name of the host the database is running where we are going to
    /// store the data.
    /// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html#OPT_StorageHost>
    pub host: String,
    /// PasswordKeyRef is a reference to a secret containing the password for the
    /// user, specified by username, to access the given database.
    /// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html#OPT_StoragePass>
    #[serde(rename = "passwordKeyRef")]
    pub password_key_ref: AccountingStorageConfigPasswordKeyRef,
    /// The port number that the Slurm Database Daemon (slurmdbd) communicates
    /// with the database.
    /// Default is 3306.
    /// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html#OPT_StoragePort>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub port: Option<i64>,
    /// Define the name of the user we are going to connect to the database with
    /// to store the job accounting data.
    /// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html#OPT_StorageUser>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub username: Option<String>,
}

/// PasswordKeyRef is a reference to a secret containing the password for the
/// user, specified by username, to access the given database.
/// Ref: <https://slurm.schedmd.com/slurmdbd.conf.html#OPT_StoragePass>
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingStorageConfigPasswordKeyRef {
    /// The key of the secret to select from.  Must be a valid secret key.
    pub key: String,
    /// Name of the referent.
    /// This field is effectively required, but due to backwards compatibility is
    /// allowed to be empty. Instances of this type with an empty value here are
    /// almost certainly wrong.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub name: Option<String>,
    /// Specify whether the Secret or its key must be defined
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub optional: Option<bool>,
}

/// Template is the object that describes the pod that will be created if
/// insufficient replicas are detected.
/// More info: <https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template>
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingTemplate {
    /// Standard object's metadata.
    /// More info: <https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub metadata: Option<AccountingTemplateMetadata>,
    /// PodSpec is a description of a pod.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub spec: Option<BTreeMap<String, serde_json::Value>>,
}

/// Standard object's metadata.
/// More info: <https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingTemplateMetadata {
    /// Annotations is an unstructured key value map stored with a resource that may be
    /// set by external tools to store and retrieve arbitrary metadata. They are not
    /// queryable and should be preserved when modifying objects.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub annotations: Option<BTreeMap<String, String>>,
    /// Map of string keys and values that can be used to organize and categorize
    /// (scope and select) objects. May match selectors of replication controllers
    /// and services.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/labels>
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub labels: Option<BTreeMap<String, String>>,
}

/// AccountingStatus defines the observed state of Accounting
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct AccountingStatus {
    /// Represents the latest available observations of a Accounting's current state.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub conditions: Option<Vec<Condition>>,
}

