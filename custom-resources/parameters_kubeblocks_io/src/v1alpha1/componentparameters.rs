// WARNING: generated by kopium - manual changes will be overwritten
// kopium command: kopium --docs --derive=Default --derive=PartialEq --smart-derive-elision --filename crd-catalog/apecloud/kubeblocks/parameters.kubeblocks.io/v1alpha1/componentparameters.yaml
// kopium version: 0.22.5

#[allow(unused_imports)]
mod prelude {
    pub use kube::CustomResource;
    pub use serde::{Serialize, Deserialize};
    pub use std::collections::BTreeMap;
    pub use k8s_openapi::apimachinery::pkg::util::intstr::IntOrString;
    pub use k8s_openapi::apimachinery::pkg::apis::meta::v1::Condition;
}
use self::prelude::*;

/// ComponentParameterSpec defines the desired state of ComponentConfiguration
#[derive(CustomResource, Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
#[kube(group = "parameters.kubeblocks.io", version = "v1alpha1", kind = "ComponentParameter", plural = "componentparameters")]
#[kube(namespaced)]
#[kube(status = "ComponentParameterStatus")]
#[kube(schema = "disabled")]
#[kube(derive="Default")]
#[kube(derive="PartialEq")]
pub struct ComponentParameterSpec {
    /// Specifies the name of the Cluster that this configuration is associated with.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "clusterName")]
    pub cluster_name: Option<String>,
    /// Represents the name of the Component that this configuration pertains to.
    #[serde(rename = "componentName")]
    pub component_name: String,
    /// ConfigItemDetails is an array of ConfigTemplateItemDetail objects.
    /// 
    /// 
    /// Each ConfigTemplateItemDetail corresponds to a configuration template,
    /// which is a ConfigMap that contains multiple configuration files.
    /// Each configuration file is stored as a key-value pair within the ConfigMap.
    /// 
    /// 
    /// The ConfigTemplateItemDetail includes information such as:
    /// 
    /// 
    /// - The configuration template (a ConfigMap)
    /// - The corresponding ConfigConstraint (constraints and validation rules for the configuration)
    /// - Volume mounts (for mounting the configuration files)
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configItemDetails")]
    pub config_item_details: Option<Vec<ComponentParameterConfigItemDetails>>,
}

/// ConfigTemplateItemDetail corresponds to settings of a configuration template (a ConfigMap).
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetails {
    /// Specifies the user-defined configuration parameters.
    /// 
    /// 
    /// When provided, the parameter values in `configFileParams` override the default configuration parameters.
    /// This allows users to override the default configuration according to their specific needs.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configFileParams")]
    pub config_file_params: Option<BTreeMap<String, ComponentParameterConfigItemDetailsConfigFileParams>>,
    /// Specifies the name of the configuration template (a ConfigMap), ConfigConstraint, and other miscellaneous options.
    /// 
    /// 
    /// The configuration template is a ConfigMap that contains multiple configuration files.
    /// Each configuration file is stored as a key-value pair within the ConfigMap.
    /// 
    /// 
    /// ConfigConstraint allows defining constraints and validation rules for configuration parameters.
    /// It ensures that the configuration adheres to certain requirements and limitations.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configSpec")]
    pub config_spec: Option<ComponentParameterConfigItemDetailsConfigSpec>,
    /// Defines the unique identifier of the configuration template.
    /// 
    /// 
    /// It must be a string of maximum 63 characters, and can only include lowercase alphanumeric characters,
    /// hyphens, and periods.
    /// The name must start and end with an alphanumeric character.
    pub name: String,
    /// External controllers can trigger a configuration rerender by modifying this field.
    /// 
    /// 
    /// Note: Currently, the `payload` field is opaque and its content is not interpreted by the system.
    /// Modifying this field will cause a rerender, regardless of the specific content of this field.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub payload: Option<BTreeMap<String, serde_json::Value>>,
    /// Specifies the user-defined configuration template.
    /// 
    /// 
    /// When provided, the `importTemplateRef` overrides the default configuration template
    /// specified in `configSpec.templateRef`.
    /// This allows users to customize the configuration template according to their specific requirements.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "userConfigTemplates")]
    pub user_config_templates: Option<ComponentParameterConfigItemDetailsUserConfigTemplates>,
}

/// Specifies the user-defined configuration parameters.
/// 
/// 
/// When provided, the parameter values in `configFileParams` override the default configuration parameters.
/// This allows users to override the default configuration according to their specific needs.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigFileParams {
    /// Holds the configuration keys and values. This field is a workaround for issues found in kubebuilder and code-generator.
    /// Refer to <https://github.com/kubernetes-sigs/kubebuilder/issues/528> and <https://github.com/kubernetes/code-generator/issues/50> for more details.
    /// 
    /// 
    /// Represents the content of the configuration file.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub content: Option<String>,
    /// Represents the updated parameters for a single configuration file.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub parameters: Option<BTreeMap<String, String>>,
}

/// Specifies the name of the configuration template (a ConfigMap), ConfigConstraint, and other miscellaneous options.
/// 
/// 
/// The configuration template is a ConfigMap that contains multiple configuration files.
/// Each configuration file is stored as a key-value pair within the ConfigMap.
/// 
/// 
/// ConfigConstraint allows defining constraints and validation rules for configuration parameters.
/// It ensures that the configuration adheres to certain requirements and limitations.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpec {
    /// The operator attempts to set default file permissions (0444).
    /// 
    /// 
    /// Must be specified as an octal value between 0000 and 0777 (inclusive),
    /// or as a decimal value between 0 and 511 (inclusive).
    /// YAML supports both octal and decimal values for file permissions.
    /// 
    /// 
    /// Please note that this setting only affects the permissions of the files themselves.
    /// Directories within the specified path are not impacted by this setting.
    /// It's important to be aware that this setting might conflict with other options
    /// that influence the file mode, such as fsGroup.
    /// In such cases, the resulting file mode may have additional bits set.
    /// Refers to documents of k8s.ConfigMapVolumeSource.defaultMode for more information.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "defaultMode")]
    pub default_mode: Option<i32>,
    /// ExternalManaged specifies whether the file management is delegated to an external system or manual user control.
    /// 
    /// 
    /// When set to true, the controller will ignore the management of this file.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "externalManaged")]
    pub external_managed: Option<bool>,
    /// Specifies the name of the template.
    pub name: String,
    /// Specifies the namespace of the referenced template ConfigMap object.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub namespace: Option<String>,
    /// Defines the procedure that reloads the file when it's content changes.
    /// 
    /// 
    /// If specified, this action overrides the global reconfigure action defined in lifecycle actions
    /// for this specific file template.
    /// 
    /// 
    /// When @restartOnFileChange is set to true, this action will be ignored.
    /// 
    /// 
    /// The container executing this action has access to following variables:
    /// 
    /// 
    /// - KB_CONFIG_FILES_CREATED: file1,file2...
    /// - KB_CONFIG_FILES_REMOVED: file1,file2...
    /// - KB_CONFIG_FILES_UPDATED: file1:checksum1,file2:checksum2...
    /// 
    /// 
    /// Note: This field is immutable once it has been set.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub reconfigure: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigure>,
    /// Specifies whether to restart the workload when the file changes.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "restartOnFileChange")]
    pub restart_on_file_change: Option<bool>,
    /// Specifies the name of the referenced template ConfigMap object.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub template: Option<String>,
    /// Refers to the volume name of PodTemplate. The file produced through the template will be mounted to
    /// the corresponding volume. Must be a DNS_LABEL name.
    /// The volume name must be defined in podSpec.containers[*].volumeMounts.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "volumeName")]
    pub volume_name: Option<String>,
}

/// Defines the procedure that reloads the file when it's content changes.
/// 
/// 
/// If specified, this action overrides the global reconfigure action defined in lifecycle actions
/// for this specific file template.
/// 
/// 
/// When @restartOnFileChange is set to true, this action will be ignored.
/// 
/// 
/// The container executing this action has access to following variables:
/// 
/// 
/// - KB_CONFIG_FILES_CREATED: file1,file2...
/// - KB_CONFIG_FILES_REMOVED: file1,file2...
/// - KB_CONFIG_FILES_UPDATED: file1:checksum1,file2:checksum2...
/// 
/// 
/// Note: This field is immutable once it has been set.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigure {
    /// Defines the command to run.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub exec: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExec>,
    /// Defines the gRPC call to issue.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub grpc: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureGrpc>,
    /// Defines the HTTP request to perform.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub http: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureHttp>,
    /// Used in conjunction with the `targetPodSelector` field to refine the selection of target pod(s) for Action execution.
    /// The impact of this field depends on the `targetPodSelector` value:
    /// 
    /// 
    /// - When `targetPodSelector` is set to `Any` or `All`, this field will be ignored.
    /// - When `targetPodSelector` is set to `Role`, only those replicas whose role matches the `matchingKey`
    ///   will be selected for the Action.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "matchingKey")]
    pub matching_key: Option<String>,
    /// Specifies the state that the cluster must reach before the Action is executed.
    /// Currently, this is only applicable to the `postProvision` action.
    /// 
    /// 
    /// The conditions are as follows:
    /// 
    /// 
    /// - `Immediately`: Executed right after the Component object is created.
    ///   The readiness of the Component and its resources is not guaranteed at this stage.
    /// - `RuntimeReady`: The Action is triggered after the Component object has been created and all associated
    ///   runtime resources (e.g. Pods) are in a ready state.
    /// - `ComponentReady`: The Action is triggered after the Component itself is in a ready state.
    ///   This process does not affect the readiness state of the Component or the Cluster.
    /// - `ClusterReady`: The Action is executed after the Cluster is in a ready state.
    ///   This execution does not alter the Component or the Cluster's state of readiness.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "preCondition")]
    pub pre_condition: Option<String>,
    /// Defines the strategy to be taken when retrying the Action after a failure.
    /// 
    /// 
    /// It specifies the conditions under which the Action should be retried and the limits to apply,
    /// such as the maximum number of retries and backoff strategy.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "retryPolicy")]
    pub retry_policy: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureRetryPolicy>,
    /// Defines the criteria used to select the target Pod(s) for executing the Action.
    /// This is useful when there is no default target replica identified.
    /// It allows for precise control over which Pod(s) the Action should run in.
    /// 
    /// 
    /// If not specified, the Action will be executed in the pod where the Action is triggered, such as the pod
    /// to be removed or added; or a random pod if the Action is triggered at the component level, such as
    /// post-provision or pre-terminate of the component.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "targetPodSelector")]
    pub target_pod_selector: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureTargetPodSelector>,
    /// Specifies the maximum duration in seconds that the Action is allowed to run.
    /// 
    /// 
    /// Behavior based on the value:
    /// - Positive (> 0): The action will be terminated after this many seconds. The maximum allowed value is 60.
    /// - Zero (= 0): The timeout is managed by the system, defaulting to 30 seconds typically.
    /// - Negative (< 0): No timeout is applied; the action runs until the command completes.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "timeoutSeconds")]
    pub timeout_seconds: Option<i32>,
}

/// Defines the command to run.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExec {
    /// Args represents the arguments that are passed to the `command` for execution.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub args: Option<Vec<String>>,
    /// Specifies the command to be executed inside the container.
    /// The working directory for this command is the container's root directory('/').
    /// Commands are executed directly without a shell environment, meaning shell-specific syntax ('|', etc.) is not supported.
    /// If the shell is required, it must be explicitly invoked in the command.
    /// 
    /// 
    /// A successful execution is indicated by an exit status of 0; any non-zero status signifies a failure.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub command: Option<Vec<String>>,
    /// Specifies the name of the container within the same pod whose resources will be shared with the action.
    /// This allows the action to utilize the specified container's resources without executing within it.
    /// 
    /// 
    /// The name must match one of the containers defined in `componentDefinition.spec.runtime`.
    /// 
    /// 
    /// The resources that can be shared are included:
    /// 
    /// 
    /// - volume mounts
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub container: Option<String>,
    /// Represents a list of environment variables that will be injected into the container.
    /// These variables enable the container to adapt its behavior based on the environment it's running in.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub env: Option<Vec<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnv>>,
    /// Specifies the container image to be used for running the Action.
    /// 
    /// 
    /// When specified, a dedicated container will be created using this image to execute the Action.
    /// All actions with same image will share the same container.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub image: Option<String>,
    /// Used in conjunction with the `targetPodSelector` field to refine the selection of target pod(s) for Action execution.
    /// The impact of this field depends on the `targetPodSelector` value:
    /// 
    /// 
    /// - When `targetPodSelector` is set to `Any` or `All`, this field will be ignored.
    /// - When `targetPodSelector` is set to `Role`, only those replicas whose role matches the `matchingKey`
    ///   will be selected for the Action.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "matchingKey")]
    pub matching_key: Option<String>,
    /// Defines the criteria used to select the target Pod(s) for executing the Action.
    /// This is useful when there is no default target replica identified.
    /// It allows for precise control over which Pod(s) the Action should run in.
    /// 
    /// 
    /// If not specified, the Action will be executed in the pod where the Action is triggered, such as the pod
    /// to be removed or added; or a random pod if the Action is triggered at the component level, such as
    /// post-provision or pre-terminate of the component.
    /// 
    /// 
    /// This field cannot be updated.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "targetPodSelector")]
    pub target_pod_selector: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecTargetPodSelector>,
}

/// EnvVar represents an environment variable present in a Container.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnv {
    /// Name of the environment variable. Must be a C_IDENTIFIER.
    pub name: String,
    /// Variable references $(VAR_NAME) are expanded
    /// using the previously defined environment variables in the container and
    /// any service environment variables. If a variable cannot be resolved,
    /// the reference in the input string will be unchanged. Double $$ are reduced
    /// to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
    /// "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
    /// Escaped references will never be expanded, regardless of whether the variable
    /// exists or not.
    /// Defaults to "".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub value: Option<String>,
    /// Source for the environment variable's value. Cannot be used if value is not empty.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "valueFrom")]
    pub value_from: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFrom>,
}

/// Source for the environment variable's value. Cannot be used if value is not empty.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFrom {
    /// Selects a key of a ConfigMap.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "configMapKeyRef")]
    pub config_map_key_ref: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromConfigMapKeyRef>,
    /// Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
    /// spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "fieldRef")]
    pub field_ref: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromFieldRef>,
    /// Selects a resource of the container: only resources limits and requests
    /// (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "resourceFieldRef")]
    pub resource_field_ref: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromResourceFieldRef>,
    /// Selects a key of a secret in the pod's namespace
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "secretKeyRef")]
    pub secret_key_ref: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromSecretKeyRef>,
}

/// Selects a key of a ConfigMap.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromConfigMapKeyRef {
    /// The key to select.
    pub key: String,
    /// Name of the referent.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>
    /// TODO: Add other useful fields. apiVersion, kind, uid?
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub name: Option<String>,
    /// Specify whether the ConfigMap or its key must be defined
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub optional: Option<bool>,
}

/// Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
/// spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromFieldRef {
    /// Version of the schema the FieldPath is written in terms of, defaults to "v1".
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "apiVersion")]
    pub api_version: Option<String>,
    /// Path of the field to select in the specified API version.
    #[serde(rename = "fieldPath")]
    pub field_path: String,
}

/// Selects a resource of the container: only resources limits and requests
/// (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromResourceFieldRef {
    /// Container name: required for volumes, optional for env vars
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "containerName")]
    pub container_name: Option<String>,
    /// Specifies the output format of the exposed resources, defaults to "1"
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub divisor: Option<IntOrString>,
    /// Required: resource to select
    pub resource: String,
}

/// Selects a key of a secret in the pod's namespace
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureExecEnvValueFromSecretKeyRef {
    /// The key of the secret to select from.  Must be a valid secret key.
    pub key: String,
    /// Name of the referent.
    /// More info: <https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>
    /// TODO: Add other useful fields. apiVersion, kind, uid?
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub name: Option<String>,
    /// Specify whether the Secret or its key must be defined
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub optional: Option<bool>,
}

/// Defines the command to run.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterConfigItemDetailsConfigSpecReconfigureExecTargetPodSelector {
    Any,
    All,
    Role,
    Ordinal,
}

/// Defines the gRPC call to issue.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureGrpc {
    /// The target host to connect to.
    /// Defaults to "127.0.0.1" if not specified.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub host: Option<String>,
    /// Name of the method to invoke on the gRPC service.
    pub method: String,
    /// The port to access on the host.
    /// It may be a numeric string (e.g., "50051") or a named port defined in the container spec.
    pub port: String,
    /// Request payload for the gRPC method.
    /// 
    /// 
    /// Keys are proto field names (lowerCamelCase); values are strings that can include Go templates.
    /// Templates are rendered with predefined action variables before the request is sent.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub request: Option<BTreeMap<String, String>>,
    /// Required response schema for the gRPC method.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub response: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureGrpcResponse>,
    /// Fully-qualified name of the gRPC service to call.
    pub service: String,
}

/// Required response schema for the gRPC method.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureGrpcResponse {
    /// Name of the field in the response whose value should be output.
    /// Printed to stdout on success, or stderr on failure.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub message: Option<String>,
    /// Name of the string field in the response that carries status information.
    /// If non-empty, the action fails.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub status: Option<String>,
}

/// Defines the HTTP request to perform.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureHttp {
    /// Optional HTTP request body.
    /// 
    /// 
    /// Supports Go text/template syntax; rendered with predefined variables before sending.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub body: Option<String>,
    /// Custom headers to set in the request.
    /// Header values may use Go text/template syntax, rendered with predefined variables.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub headers: Option<Vec<ComponentParameterConfigItemDetailsConfigSpecReconfigureHttpHeaders>>,
    /// The target host to connect to.
    /// Defaults to "127.0.0.1" if not specified.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub host: Option<String>,
    /// The HTTP method to use.
    /// Defaults to "GET".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub method: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureHttpMethod>,
    /// The path to request on the HTTP server.
    /// Defaults to "/" if not specified.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub path: Option<String>,
    /// The port to access on the host.
    /// It may be a numeric string (e.g., "8080") or a named port defined in the container spec.
    pub port: String,
    /// The scheme to use for connecting to the host.
    /// Defaults to "HTTP".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub scheme: Option<ComponentParameterConfigItemDetailsConfigSpecReconfigureHttpScheme>,
}

/// HTTPHeader represents a single HTTP header key/value pair.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureHttpHeaders {
    /// Name of the header field.
    pub name: String,
    /// Value of the header field.
    pub value: String,
}

/// Defines the HTTP request to perform.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterConfigItemDetailsConfigSpecReconfigureHttpMethod {
    #[serde(rename = "GET")]
    Get,
    #[serde(rename = "POST")]
    Post,
    #[serde(rename = "PUT")]
    Put,
    #[serde(rename = "DELETE")]
    Delete,
    #[serde(rename = "HEAD")]
    Head,
    #[serde(rename = "PATCH")]
    Patch,
}

/// Defines the HTTP request to perform.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterConfigItemDetailsConfigSpecReconfigureHttpScheme {
    #[serde(rename = "HTTP")]
    Http,
    #[serde(rename = "HTTPS")]
    Https,
}

/// Defines the strategy to be taken when retrying the Action after a failure.
/// 
/// 
/// It specifies the conditions under which the Action should be retried and the limits to apply,
/// such as the maximum number of retries and backoff strategy.
/// 
/// 
/// This field cannot be updated.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsConfigSpecReconfigureRetryPolicy {
    /// Defines the maximum number of retry attempts that should be made for a given Action.
    /// This value is set to 0 by default, indicating that no retries will be made.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "maxRetries")]
    pub max_retries: Option<i64>,
    /// Indicates the duration of time to wait between each retry attempt.
    /// This value is set to 0 by default, indicating that there will be no delay between retry attempts.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "retryInterval")]
    pub retry_interval: Option<i64>,
}

/// Defines the procedure that reloads the file when it's content changes.
/// 
/// 
/// If specified, this action overrides the global reconfigure action defined in lifecycle actions
/// for this specific file template.
/// 
/// 
/// When @restartOnFileChange is set to true, this action will be ignored.
/// 
/// 
/// The container executing this action has access to following variables:
/// 
/// 
/// - KB_CONFIG_FILES_CREATED: file1,file2...
/// - KB_CONFIG_FILES_REMOVED: file1,file2...
/// - KB_CONFIG_FILES_UPDATED: file1:checksum1,file2:checksum2...
/// 
/// 
/// Note: This field is immutable once it has been set.
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterConfigItemDetailsConfigSpecReconfigureTargetPodSelector {
    Any,
    All,
    Role,
    Ordinal,
}

/// Specifies the user-defined configuration template.
/// 
/// 
/// When provided, the `importTemplateRef` overrides the default configuration template
/// specified in `configSpec.templateRef`.
/// This allows users to customize the configuration template according to their specific requirements.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterConfigItemDetailsUserConfigTemplates {
    /// Specifies the namespace of the referenced configuration template ConfigMap object.
    /// An empty namespace is equivalent to the "default" namespace.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub namespace: Option<String>,
    /// Defines the strategy for merging externally imported templates into component templates.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub policy: Option<ComponentParameterConfigItemDetailsUserConfigTemplatesPolicy>,
    /// Specifies the name of the referenced configuration template ConfigMap object.
    #[serde(rename = "templateRef")]
    pub template_ref: String,
}

/// Specifies the user-defined configuration template.
/// 
/// 
/// When provided, the `importTemplateRef` overrides the default configuration template
/// specified in `configSpec.templateRef`.
/// This allows users to customize the configuration template according to their specific requirements.
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterConfigItemDetailsUserConfigTemplatesPolicy {
    #[serde(rename = "patch")]
    Patch,
    #[serde(rename = "replace")]
    Replace,
    #[serde(rename = "none")]
    None,
}

/// ComponentParameterStatus defines the observed state of ComponentConfiguration
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterStatus {
    /// Provides detailed status information for opsRequest.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub conditions: Option<Vec<Condition>>,
    /// Provides the status of each component undergoing reconfiguration.
    #[serde(rename = "configurationStatus")]
    pub configuration_status: Vec<ComponentParameterStatusConfigurationStatus>,
    /// Provides a description of any abnormal status.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub message: Option<String>,
    /// Represents the latest generation observed for this
    /// ClusterDefinition. It corresponds to the ConfigConstraint's generation, which is
    /// updated by the API Server.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "observedGeneration")]
    pub observed_generation: Option<i64>,
    /// Indicates the current status of the configuration item.
    /// 
    /// 
    /// Possible values include "Creating", "Init", "Running", "Pending", "Merged", "MergeFailed", "FailedAndPause",
    /// "Upgrading", "Deleting", "FailedAndRetry", "Finished".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub phase: Option<ComponentParameterStatusPhase>,
}

#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterStatusConfigurationStatus {
    /// Represents the last completed revision of the configuration item. This field is optional.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "lastDoneRevision")]
    pub last_done_revision: Option<String>,
    /// Provides a description of any abnormal status. This field is optional.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub message: Option<String>,
    /// Specifies the name of the configuration template. It is a required field and must be a string of maximum 63 characters.
    /// The name should only contain lowercase alphanumeric characters, hyphens, or periods. It should start and end with an alphanumeric character.
    pub name: String,
    /// Indicates the current status of the configuration item.
    /// 
    /// 
    /// Possible values include "Creating", "Init", "Running", "Pending", "Merged", "MergeFailed", "FailedAndPause",
    /// "Upgrading", "Deleting", "FailedAndRetry", "Finished".
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub phase: Option<ComponentParameterStatusConfigurationStatusPhase>,
    /// Provides detailed information about the execution of the configuration change. This field is optional.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "reconcileDetail")]
    pub reconcile_detail: Option<ComponentParameterStatusConfigurationStatusReconcileDetail>,
    /// Represents the updated revision of the configuration item. This field is optional.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "updateRevision")]
    pub update_revision: Option<String>,
}

#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterStatusConfigurationStatusPhase {
    Creating,
    Init,
    Running,
    Pending,
    Merged,
    MergeFailed,
    FailedAndPause,
    Upgrading,
    Deleting,
    FailedAndRetry,
    Finished,
}

/// Provides detailed information about the execution of the configuration change. This field is optional.
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct ComponentParameterStatusConfigurationStatusReconcileDetail {
    /// Represents the current revision of the configuration item.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "currentRevision")]
    pub current_revision: Option<String>,
    /// Represents the error message generated when the execution of configuration changes fails.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "errMessage")]
    pub err_message: Option<String>,
    /// Represents the outcome of the most recent execution.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "execResult")]
    pub exec_result: Option<String>,
    /// Represents the total number of pods that require execution of configuration changes.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "expectedCount")]
    pub expected_count: Option<i32>,
    /// Represents the policy applied during the most recent execution.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub policy: Option<String>,
    /// Represents the number of pods where configuration changes were successfully applied.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "succeedCount")]
    pub succeed_count: Option<i32>,
}

/// ComponentParameterStatus defines the observed state of ComponentConfiguration
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum ComponentParameterStatusPhase {
    Creating,
    Init,
    Running,
    Pending,
    Merged,
    MergeFailed,
    FailedAndPause,
    Upgrading,
    Deleting,
    FailedAndRetry,
    Finished,
}

