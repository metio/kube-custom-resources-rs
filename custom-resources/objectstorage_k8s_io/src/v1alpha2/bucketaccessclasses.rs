// WARNING: generated by kopium - manual changes will be overwritten
// kopium command: kopium --docs --derive=Default --derive=PartialEq --smart-derive-elision --filename crd-catalog/kubernetes-sigs/container-object-storage-interface/objectstorage.k8s.io/v1alpha2/bucketaccessclasses.yaml
// kopium version: 0.22.5

#[allow(unused_imports)]
mod prelude {
    pub use kube::CustomResource;
    pub use serde::{Serialize, Deserialize};
    pub use std::collections::BTreeMap;
}
use self::prelude::*;

/// spec defines the desired state of BucketAccessClass
#[derive(CustomResource, Serialize, Deserialize, Clone, Debug, PartialEq)]
#[kube(group = "objectstorage.k8s.io", version = "v1alpha2", kind = "BucketAccessClass", plural = "bucketaccessclasses")]
#[kube(schema = "disabled")]
#[kube(derive="PartialEq")]
pub struct BucketAccessClassSpec {
    /// authenticationType specifies which authentication mechanism is used bucket access.
    /// See driver documentation to determine which values are supported.
    /// Possible values:
    ///  - Key: The driver should generate a protocol-appropriate access key that clients can use to
    ///    authenticate to the backend object store.
    ///  - ServiceAccount: The driver should configure the system such that Pods using the given
    ///    ServiceAccount authenticate to the backend object store automatically.
    #[serde(rename = "authenticationType")]
    pub authentication_type: BucketAccessClassAuthenticationType,
    /// disallowedBucketAccessModes is a list of disallowed Read/Write access modes. A BucketAccess
    /// using this class will not be allowed to request access to a BucketClaim with any access mode
    /// listed here.
    /// This is particularly useful for administrators to restrict access to a statically-provisioned
    /// bucket that is managed outside the BucketAccess Namespace or Kubernetes cluster.
    /// Possible values: 'ReadWrite', 'ReadOnly', 'WriteOnly'.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "disallowedBucketAccessModes")]
    pub disallowed_bucket_access_modes: Option<Vec<String>>,
    /// driverName is the name of the driver that fulfills requests for this BucketAccessClass.
    /// See driver documentation to determine the correct value to set.
    /// Must be 63 characters or less, beginning and ending with an alphanumeric character
    /// ([a-z0-9A-Z]) with dashes (-), dots (.), and alphanumerics between.
    #[serde(rename = "driverName")]
    pub driver_name: String,
    /// multiBucketAccess specifies whether a BucketAccess using this class can reference multiple
    /// BucketClaims. When omitted, this means no opinion, and COSI will choose a reasonable default,
    /// which is subject to change over time.
    /// Possible values:
    ///  - SingleBucket: (default) A BucketAccess may reference only a single BucketClaim.
    ///  - MultipleBuckets: A BucketAccess may reference multiple (1 or more) BucketClaims.
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "multiBucketAccess")]
    pub multi_bucket_access: Option<BucketAccessClassMultiBucketAccess>,
    /// parameters is an opaque map of driver-specific configuration items passed to the driver that
    /// fulfills requests for this BucketAccessClass.
    /// See driver documentation to determine supported parameters and their effects.
    /// A maximum of 512 parameters are allowed.
    #[serde(default, skip_serializing_if = "Option::is_none")]
    pub parameters: Option<BTreeMap<String, String>>,
}

/// spec defines the desired state of BucketAccessClass
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum BucketAccessClassAuthenticationType {
    Key,
    ServiceAccount,
}

/// spec defines the desired state of BucketAccessClass
#[derive(Serialize, Deserialize, Clone, Debug, PartialEq)]
pub enum BucketAccessClassMultiBucketAccess {
    SingleBucket,
    MultipleBuckets,
}

