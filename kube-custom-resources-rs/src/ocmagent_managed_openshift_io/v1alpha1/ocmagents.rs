// WARNING: generated by kopium - manual changes will be overwritten
// kopium command: kopium --docs --filename=./crd-catalog/openshift/ocm-agent-operator/ocmagent.managed.openshift.io/v1alpha1/ocmagents.yaml --derive=Default --derive=PartialEq --smart-derive-elision
// kopium version: 0.21.1

#[allow(unused_imports)]
mod prelude {
    pub use kube::CustomResource;
    pub use serde::{Serialize, Deserialize};
}
use self::prelude::*;

/// OcmAgentSpec defines the desired state of OcmAgent
#[derive(CustomResource, Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
#[kube(group = "ocmagent.managed.openshift.io", version = "v1alpha1", kind = "OcmAgent", plural = "ocmagents")]
#[kube(namespaced)]
#[kube(status = "OcmAgentStatus")]
#[kube(schema = "disabled")]
#[kube(derive="Default")]
#[kube(derive="PartialEq")]
pub struct OcmAgentSpec {
    /// AgentConfig refers to OCM agent config fields separated
    #[serde(rename = "agentConfig")]
    pub agent_config: OcmAgentAgentConfig,
    /// FleetMode indicates if the OCM agent is running in fleet mode, default to false
    #[serde(default, skip_serializing_if = "Option::is_none", rename = "fleetMode")]
    pub fleet_mode: Option<bool>,
    /// OcmAgentImage defines the image which will be used by the OCM Agent
    #[serde(rename = "ocmAgentImage")]
    pub ocm_agent_image: String,
    /// Replicas defines the replica count for the OCM Agent service
    pub replicas: i32,
    /// TokenSecret points to the secret name which stores the access token to OCM server
    #[serde(rename = "tokenSecret")]
    pub token_secret: String,
}

/// AgentConfig refers to OCM agent config fields separated
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct OcmAgentAgentConfig {
    /// OcmBaseUrl defines the OCM api endpoint for OCM agent to access
    #[serde(rename = "ocmBaseUrl")]
    pub ocm_base_url: String,
    /// Services defines the supported OCM services, eg, service_log, cluster_management
    pub services: Vec<String>,
}

/// OcmAgentStatus defines the observed state of OcmAgent
#[derive(Serialize, Deserialize, Clone, Debug, Default, PartialEq)]
pub struct OcmAgentStatus {
    #[serde(rename = "availableReplicas")]
    pub available_replicas: i32,
    /// ServiceStatus indicates the status of OCM Agent service
    #[serde(rename = "serviceStatus")]
    pub service_status: String,
}

