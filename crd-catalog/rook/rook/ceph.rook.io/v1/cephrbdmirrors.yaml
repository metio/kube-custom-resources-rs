apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: "v0.11.3"
  name: "cephrbdmirrors.ceph.rook.io"
spec:
  group: "ceph.rook.io"
  names:
    kind: "CephRBDMirror"
    listKind: "CephRBDMirrorList"
    plural: "cephrbdmirrors"
    singular: "cephrbdmirror"
  scope: "Namespaced"
  versions:
    - additionalPrinterColumns:
        - jsonPath: ".status.phase"
          name: "Phase"
          type: "string"
      name: "v1"
      schema:
        openAPIV3Schema:
          description: "CephRBDMirror represents a Ceph RBD Mirror"
          properties:
            apiVersion:
              description: "APIVersion defines the versioned schema of this representation of an object."
              type: "string"
            kind:
              description: "Kind is a string value representing the REST resource this object represents."
              type: "string"
            metadata:
              type: "object"
            spec:
              description: "RBDMirroringSpec represents the specification of an RBD mirror daemon"
              properties:
                annotations:
                  additionalProperties:
                    type: "string"
                  description: "The annotations-related configuration to add/set on each Pod related object."
                  nullable: true
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
                count:
                  description: "Count represents the number of rbd mirror instance to run"
                  minimum: 1.0
                  type: "integer"
                labels:
                  additionalProperties:
                    type: "string"
                  description: "The labels-related configuration to add/set on each Pod related object."
                  nullable: true
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
                peers:
                  description: "Peers represents the peers spec"
                  nullable: true
                  properties:
                    secretNames:
                      description: "SecretNames represents the Kubernetes Secret names to add rbd-mirror or cephfs-mirror peers"
                      items:
                        type: "string"
                      type: "array"
                  type: "object"
                placement:
                  description: "The affinity to place the rgw pods (default is to place on any available node)"
                  nullable: true
                  properties:
                    nodeAffinity:
                      description: "NodeAffinity is a group of node affinity scheduling rules"
                      properties:
                        preferredDuringSchedulingIgnoredDuringExecution:
                          description: "The scheduler will prefer to schedule pods to nodes that satisfy the affinity expressions specified "
                          items:
                            description: "An empty preferred scheduling term matches all objects with implicit weight 0 (i.e. it's a no-op)."
                            properties:
                              preference:
                                description: "A node selector term, associated with the corresponding weight."
                                properties:
                                  matchExpressions:
                                    description: "A list of node selector requirements by node's labels."
                                    items:
                                      description: "A node selector requirement is a selector that contains values, a key, and an operator that relates "
                                      properties:
                                        key:
                                          description: "The label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "Represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "An array of string values. If the operator is In or NotIn, the values array must be non-empty."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                  matchFields:
                                    description: "A list of node selector requirements by node's fields."
                                    items:
                                      description: "A node selector requirement is a selector that contains values, a key, and an operator that relates "
                                      properties:
                                        key:
                                          description: "The label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "Represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "An array of string values. If the operator is In or NotIn, the values array must be non-empty."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                type: "object"
                                x-kubernetes-map-type: "atomic"
                              weight:
                                description: "Weight associated with matching the corresponding nodeSelectorTerm, in the range 1-100."
                                format: "int32"
                                type: "integer"
                            required:
                              - "preference"
                              - "weight"
                            type: "object"
                          type: "array"
                        requiredDuringSchedulingIgnoredDuringExecution:
                          description: "If the affinity requirements specified by this field are not met at scheduling time, the pod will no"
                          properties:
                            nodeSelectorTerms:
                              description: "Required. A list of node selector terms. The terms are ORed."
                              items:
                                description: "A null or empty node selector term matches no objects. The requirements of them are ANDed."
                                properties:
                                  matchExpressions:
                                    description: "A list of node selector requirements by node's labels."
                                    items:
                                      description: "A node selector requirement is a selector that contains values, a key, and an operator that relates "
                                      properties:
                                        key:
                                          description: "The label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "Represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "An array of string values. If the operator is In or NotIn, the values array must be non-empty."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                  matchFields:
                                    description: "A list of node selector requirements by node's fields."
                                    items:
                                      description: "A node selector requirement is a selector that contains values, a key, and an operator that relates "
                                      properties:
                                        key:
                                          description: "The label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "Represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "An array of string values. If the operator is In or NotIn, the values array must be non-empty."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                type: "object"
                                x-kubernetes-map-type: "atomic"
                              type: "array"
                          required:
                            - "nodeSelectorTerms"
                          type: "object"
                          x-kubernetes-map-type: "atomic"
                      type: "object"
                    podAffinity:
                      description: "PodAffinity is a group of inter pod affinity scheduling rules"
                      properties:
                        preferredDuringSchedulingIgnoredDuringExecution:
                          description: "The scheduler will prefer to schedule pods to nodes that satisfy the affinity expressions specified "
                          items:
                            description: "The weights of all of the matched WeightedPodAffinityTerm fields are added per-node to find the most"
                            properties:
                              podAffinityTerm:
                                description: "Required. A pod affinity term, associated with the corresponding weight."
                                properties:
                                  labelSelector:
                                    description: "A label query over a set of resources, in this case pods."
                                    properties:
                                      matchExpressions:
                                        description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                        items:
                                          description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                          properties:
                                            key:
                                              description: "key is the label key that the selector applies to."
                                              type: "string"
                                            operator:
                                              description: "operator represents a key's relationship to a set of values."
                                              type: "string"
                                            values:
                                              description: "values is an array of string values."
                                              items:
                                                type: "string"
                                              type: "array"
                                          required:
                                            - "key"
                                            - "operator"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        description: "matchLabels is a map of {key,value} pairs."
                                        type: "object"
                                    type: "object"
                                    x-kubernetes-map-type: "atomic"
                                  matchLabelKeys:
                                    description: "MatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                    items:
                                      type: "string"
                                    type: "array"
                                    x-kubernetes-list-type: "atomic"
                                  mismatchLabelKeys:
                                    description: "MismatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                    items:
                                      type: "string"
                                    type: "array"
                                    x-kubernetes-list-type: "atomic"
                                  namespaceSelector:
                                    description: "A label query over the set of namespaces that the term applies to."
                                    properties:
                                      matchExpressions:
                                        description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                        items:
                                          description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                          properties:
                                            key:
                                              description: "key is the label key that the selector applies to."
                                              type: "string"
                                            operator:
                                              description: "operator represents a key's relationship to a set of values."
                                              type: "string"
                                            values:
                                              description: "values is an array of string values."
                                              items:
                                                type: "string"
                                              type: "array"
                                          required:
                                            - "key"
                                            - "operator"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        description: "matchLabels is a map of {key,value} pairs."
                                        type: "object"
                                    type: "object"
                                    x-kubernetes-map-type: "atomic"
                                  namespaces:
                                    description: "namespaces specifies a static list of namespace names that the term applies to."
                                    items:
                                      type: "string"
                                    type: "array"
                                  topologyKey:
                                    description: "This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching th"
                                    type: "string"
                                required:
                                  - "topologyKey"
                                type: "object"
                              weight:
                                description: "weight associated with matching the corresponding podAffinityTerm, in the range 1-100."
                                format: "int32"
                                type: "integer"
                            required:
                              - "podAffinityTerm"
                              - "weight"
                            type: "object"
                          type: "array"
                        requiredDuringSchedulingIgnoredDuringExecution:
                          description: "If the affinity requirements specified by this field are not met at scheduling time, the pod will no"
                          items:
                            description: "Defines a set of pods (namely those matching the labelSelector relative to the given namespace(s)) t"
                            properties:
                              labelSelector:
                                description: "A label query over a set of resources, in this case pods."
                                properties:
                                  matchExpressions:
                                    description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                    items:
                                      description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                      properties:
                                        key:
                                          description: "key is the label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "operator represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "values is an array of string values."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                  matchLabels:
                                    additionalProperties:
                                      type: "string"
                                    description: "matchLabels is a map of {key,value} pairs."
                                    type: "object"
                                type: "object"
                                x-kubernetes-map-type: "atomic"
                              matchLabelKeys:
                                description: "MatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                items:
                                  type: "string"
                                type: "array"
                                x-kubernetes-list-type: "atomic"
                              mismatchLabelKeys:
                                description: "MismatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                items:
                                  type: "string"
                                type: "array"
                                x-kubernetes-list-type: "atomic"
                              namespaceSelector:
                                description: "A label query over the set of namespaces that the term applies to."
                                properties:
                                  matchExpressions:
                                    description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                    items:
                                      description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                      properties:
                                        key:
                                          description: "key is the label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "operator represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "values is an array of string values."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                  matchLabels:
                                    additionalProperties:
                                      type: "string"
                                    description: "matchLabels is a map of {key,value} pairs."
                                    type: "object"
                                type: "object"
                                x-kubernetes-map-type: "atomic"
                              namespaces:
                                description: "namespaces specifies a static list of namespace names that the term applies to."
                                items:
                                  type: "string"
                                type: "array"
                              topologyKey:
                                description: "This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching th"
                                type: "string"
                            required:
                              - "topologyKey"
                            type: "object"
                          type: "array"
                      type: "object"
                    podAntiAffinity:
                      description: "PodAntiAffinity is a group of inter pod anti affinity scheduling rules"
                      properties:
                        preferredDuringSchedulingIgnoredDuringExecution:
                          description: "The scheduler will prefer to schedule pods to nodes that satisfy the anti-affinity expressions speci"
                          items:
                            description: "The weights of all of the matched WeightedPodAffinityTerm fields are added per-node to find the most"
                            properties:
                              podAffinityTerm:
                                description: "Required. A pod affinity term, associated with the corresponding weight."
                                properties:
                                  labelSelector:
                                    description: "A label query over a set of resources, in this case pods."
                                    properties:
                                      matchExpressions:
                                        description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                        items:
                                          description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                          properties:
                                            key:
                                              description: "key is the label key that the selector applies to."
                                              type: "string"
                                            operator:
                                              description: "operator represents a key's relationship to a set of values."
                                              type: "string"
                                            values:
                                              description: "values is an array of string values."
                                              items:
                                                type: "string"
                                              type: "array"
                                          required:
                                            - "key"
                                            - "operator"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        description: "matchLabels is a map of {key,value} pairs."
                                        type: "object"
                                    type: "object"
                                    x-kubernetes-map-type: "atomic"
                                  matchLabelKeys:
                                    description: "MatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                    items:
                                      type: "string"
                                    type: "array"
                                    x-kubernetes-list-type: "atomic"
                                  mismatchLabelKeys:
                                    description: "MismatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                    items:
                                      type: "string"
                                    type: "array"
                                    x-kubernetes-list-type: "atomic"
                                  namespaceSelector:
                                    description: "A label query over the set of namespaces that the term applies to."
                                    properties:
                                      matchExpressions:
                                        description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                        items:
                                          description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                          properties:
                                            key:
                                              description: "key is the label key that the selector applies to."
                                              type: "string"
                                            operator:
                                              description: "operator represents a key's relationship to a set of values."
                                              type: "string"
                                            values:
                                              description: "values is an array of string values."
                                              items:
                                                type: "string"
                                              type: "array"
                                          required:
                                            - "key"
                                            - "operator"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        description: "matchLabels is a map of {key,value} pairs."
                                        type: "object"
                                    type: "object"
                                    x-kubernetes-map-type: "atomic"
                                  namespaces:
                                    description: "namespaces specifies a static list of namespace names that the term applies to."
                                    items:
                                      type: "string"
                                    type: "array"
                                  topologyKey:
                                    description: "This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching th"
                                    type: "string"
                                required:
                                  - "topologyKey"
                                type: "object"
                              weight:
                                description: "weight associated with matching the corresponding podAffinityTerm, in the range 1-100."
                                format: "int32"
                                type: "integer"
                            required:
                              - "podAffinityTerm"
                              - "weight"
                            type: "object"
                          type: "array"
                        requiredDuringSchedulingIgnoredDuringExecution:
                          description: "If the anti-affinity requirements specified by this field are not met at scheduling time, the pod wi"
                          items:
                            description: "Defines a set of pods (namely those matching the labelSelector relative to the given namespace(s)) t"
                            properties:
                              labelSelector:
                                description: "A label query over a set of resources, in this case pods."
                                properties:
                                  matchExpressions:
                                    description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                    items:
                                      description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                      properties:
                                        key:
                                          description: "key is the label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "operator represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "values is an array of string values."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                  matchLabels:
                                    additionalProperties:
                                      type: "string"
                                    description: "matchLabels is a map of {key,value} pairs."
                                    type: "object"
                                type: "object"
                                x-kubernetes-map-type: "atomic"
                              matchLabelKeys:
                                description: "MatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                items:
                                  type: "string"
                                type: "array"
                                x-kubernetes-list-type: "atomic"
                              mismatchLabelKeys:
                                description: "MismatchLabelKeys is a set of pod label keys to select which pods will be taken into consideration."
                                items:
                                  type: "string"
                                type: "array"
                                x-kubernetes-list-type: "atomic"
                              namespaceSelector:
                                description: "A label query over the set of namespaces that the term applies to."
                                properties:
                                  matchExpressions:
                                    description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                    items:
                                      description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                      properties:
                                        key:
                                          description: "key is the label key that the selector applies to."
                                          type: "string"
                                        operator:
                                          description: "operator represents a key's relationship to a set of values."
                                          type: "string"
                                        values:
                                          description: "values is an array of string values."
                                          items:
                                            type: "string"
                                          type: "array"
                                      required:
                                        - "key"
                                        - "operator"
                                      type: "object"
                                    type: "array"
                                  matchLabels:
                                    additionalProperties:
                                      type: "string"
                                    description: "matchLabels is a map of {key,value} pairs."
                                    type: "object"
                                type: "object"
                                x-kubernetes-map-type: "atomic"
                              namespaces:
                                description: "namespaces specifies a static list of namespace names that the term applies to."
                                items:
                                  type: "string"
                                type: "array"
                              topologyKey:
                                description: "This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching th"
                                type: "string"
                            required:
                              - "topologyKey"
                            type: "object"
                          type: "array"
                      type: "object"
                    tolerations:
                      description: "The pod this Toleration is attached to tolerates any taint that matches the triple <key,value,effect"
                      items:
                        description: "The pod this Toleration is attached to tolerates any taint that matches the triple <key,value,effect"
                        properties:
                          effect:
                            description: "Effect indicates the taint effect to match. Empty means match all taint effects."
                            type: "string"
                          key:
                            description: "Key is the taint key that the toleration applies to. Empty means match all taint keys."
                            type: "string"
                          operator:
                            description: "Operator represents a key's relationship to the value. Valid operators are Exists and Equal."
                            type: "string"
                          tolerationSeconds:
                            description: "TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, o"
                            format: "int64"
                            type: "integer"
                          value:
                            description: "Value is the taint value the toleration matches to."
                            type: "string"
                        type: "object"
                      type: "array"
                    topologySpreadConstraints:
                      description: "TopologySpreadConstraint specifies how to spread matching pods among the given topology"
                      items:
                        description: "TopologySpreadConstraint specifies how to spread matching pods among the given topology."
                        properties:
                          labelSelector:
                            description: "LabelSelector is used to find matching pods."
                            properties:
                              matchExpressions:
                                description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                                items:
                                  description: "A label selector requirement is a selector that contains values, a key, and an operator that relates"
                                  properties:
                                    key:
                                      description: "key is the label key that the selector applies to."
                                      type: "string"
                                    operator:
                                      description: "operator represents a key's relationship to a set of values."
                                      type: "string"
                                    values:
                                      description: "values is an array of string values."
                                      items:
                                        type: "string"
                                      type: "array"
                                  required:
                                    - "key"
                                    - "operator"
                                  type: "object"
                                type: "array"
                              matchLabels:
                                additionalProperties:
                                  type: "string"
                                description: "matchLabels is a map of {key,value} pairs."
                                type: "object"
                            type: "object"
                            x-kubernetes-map-type: "atomic"
                          matchLabelKeys:
                            description: "MatchLabelKeys is a set of pod label keys to select the pods over which spreading will be calculated"
                            items:
                              type: "string"
                            type: "array"
                            x-kubernetes-list-type: "atomic"
                          maxSkew:
                            description: "MaxSkew describes the degree to which pods may be unevenly distributed."
                            format: "int32"
                            type: "integer"
                          minDomains:
                            description: "MinDomains indicates a minimum number of eligible domains."
                            format: "int32"
                            type: "integer"
                          nodeAffinityPolicy:
                            description: "NodeAffinityPolicy indicates how we will treat Pod's nodeAffinity/nodeSelector when calculating pod "
                            type: "string"
                          nodeTaintsPolicy:
                            description: "NodeTaintsPolicy indicates how we will treat node taints when calculating pod topology spread skew."
                            type: "string"
                          topologyKey:
                            description: "TopologyKey is the key of node labels."
                            type: "string"
                          whenUnsatisfiable:
                            description: "WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy the spread constraint."
                            type: "string"
                        required:
                          - "maxSkew"
                          - "topologyKey"
                          - "whenUnsatisfiable"
                        type: "object"
                      type: "array"
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
                priorityClassName:
                  description: "PriorityClassName sets priority class on the rbd mirror pods"
                  type: "string"
                resources:
                  description: "The resource requirements for the rbd mirror pods"
                  nullable: true
                  properties:
                    claims:
                      description: "Claims lists the names of resources, defined in spec."
                      items:
                        description: "ResourceClaim references one entry in PodSpec.ResourceClaims."
                        properties:
                          name:
                            description: "Name must match the name of one entry in pod.spec."
                            type: "string"
                        required:
                          - "name"
                        type: "object"
                      type: "array"
                      x-kubernetes-list-map-keys:
                        - "name"
                      x-kubernetes-list-type: "map"
                    limits:
                      additionalProperties:
                        anyOf:
                          - type: "integer"
                          - type: "string"
                        pattern: "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$"
                        x-kubernetes-int-or-string: true
                      description: "Limits describes the maximum amount of compute resources allowed. More info: https://kubernetes."
                      type: "object"
                    requests:
                      additionalProperties:
                        anyOf:
                          - type: "integer"
                          - type: "string"
                        pattern: "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$"
                        x-kubernetes-int-or-string: true
                      description: "Requests describes the minimum amount of compute resources required."
                      type: "object"
                  type: "object"
                  x-kubernetes-preserve-unknown-fields: true
              required:
                - "count"
              type: "object"
            status:
              description: "Status represents the status of an object"
              properties:
                conditions:
                  items:
                    description: "Condition represents a status condition on any Rook-Ceph Custom Resource."
                    properties:
                      lastHeartbeatTime:
                        format: "date-time"
                        type: "string"
                      lastTransitionTime:
                        format: "date-time"
                        type: "string"
                      message:
                        type: "string"
                      reason:
                        description: "ConditionReason is a reason for a condition"
                        type: "string"
                      status:
                        type: "string"
                      type:
                        description: "ConditionType represent a resource's status"
                        type: "string"
                    type: "object"
                  type: "array"
                observedGeneration:
                  description: "ObservedGeneration is the latest generation observed by the controller."
                  format: "int64"
                  type: "integer"
                phase:
                  type: "string"
              type: "object"
              x-kubernetes-preserve-unknown-fields: true
          required:
            - "metadata"
            - "spec"
          type: "object"
      served: true
      storage: true
      subresources:
        status: {}
