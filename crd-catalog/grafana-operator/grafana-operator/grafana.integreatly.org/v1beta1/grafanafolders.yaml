apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: "v0.14.0"
  name: "grafanafolders.grafana.integreatly.org"
spec:
  group: "grafana.integreatly.org"
  names:
    kind: "GrafanaFolder"
    listKind: "GrafanaFolderList"
    plural: "grafanafolders"
    singular: "grafanafolder"
  scope: "Namespaced"
  versions:
    - additionalPrinterColumns:
        - jsonPath: ".status.NoMatchingInstances"
          name: "No matching instances"
          type: "boolean"
        - jsonPath: ".metadata.creationTimestamp"
          name: "Age"
          type: "date"
      name: "v1beta1"
      schema:
        openAPIV3Schema:
          description: "GrafanaFolder is the Schema for the grafanafolders API"
          properties:
            apiVersion:
              description: "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources"
              type: "string"
            kind:
              description: "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"
              type: "string"
            metadata:
              type: "object"
            spec:
              description: "GrafanaFolderSpec defines the desired state of GrafanaFolder"
              properties:
                allowCrossNamespaceImport:
                  description: "allow to import this resources from an operator in a different namespace"
                  type: "boolean"
                instanceSelector:
                  description: "selects Grafanas for import"
                  properties:
                    matchExpressions:
                      description: "matchExpressions is a list of label selector requirements. The requirements are ANDed."
                      items:
                        description: "A label selector requirement is a selector that contains values, a key, and an operator that\nrelates the key and values."
                        properties:
                          key:
                            description: "key is the label key that the selector applies to."
                            type: "string"
                          operator:
                            description: "operator represents a key's relationship to a set of values.\nValid operators are In, NotIn, Exists and DoesNotExist."
                            type: "string"
                          values:
                            description: "values is an array of string values. If the operator is In or NotIn,\nthe values array must be non-empty. If the operator is Exists or DoesNotExist,\nthe values array must be empty. This array is replaced during a strategic\nmerge patch."
                            items:
                              type: "string"
                            type: "array"
                            x-kubernetes-list-type: "atomic"
                        required:
                          - "key"
                          - "operator"
                        type: "object"
                      type: "array"
                      x-kubernetes-list-type: "atomic"
                    matchLabels:
                      additionalProperties:
                        type: "string"
                      description: "matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels\nmap is equivalent to an element of matchExpressions, whose key field is \"key\", the\noperator is \"In\", and the values array contains only \"value\". The requirements are ANDed."
                      type: "object"
                  type: "object"
                  x-kubernetes-map-type: "atomic"
                  x-kubernetes-validations:
                    - message: "Value is immutable"
                      rule: "self == oldSelf"
                permissions:
                  description: "raw json with folder permissions"
                  type: "string"
                resyncPeriod:
                  default: "5m"
                  description: "how often the folder is synced, defaults to 5m if not set"
                  format: "duration"
                  pattern: "^([0-9]+(\\.[0-9]+)?(ns|us|Âµs|ms|s|m|h))+$"
                  type: "string"
                title:
                  type: "string"
              required:
                - "instanceSelector"
              type: "object"
            status:
              description: "GrafanaFolderStatus defines the observed state of GrafanaFolder"
              properties:
                NoMatchingInstances:
                  description: "The folder instanceSelector can't find matching grafana instances"
                  type: "boolean"
                hash:
                  description: "INSERT ADDITIONAL STATUS FIELD - define observed state of cluster\nImportant: Run \"make\" to regenerate code after modifying this file"
                  type: "string"
                lastResync:
                  description: "Last time the folder was resynced"
                  format: "date-time"
                  type: "string"
              type: "object"
          type: "object"
      served: true
      storage: true
      subresources:
        status: {}
