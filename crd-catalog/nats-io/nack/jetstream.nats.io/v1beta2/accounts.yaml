apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "accounts.jetstream.nats.io"
spec:
  group: "jetstream.nats.io"
  names:
    kind: "Account"
    plural: "accounts"
    singular: "account"
  scope: "Namespaced"
  versions:
    - name: "v1beta2"
      schema:
        openAPIV3Schema:
          properties:
            spec:
              properties:
                creds:
                  description: "The creds to be used to connect to the NATS Service."
                  properties:
                    file:
                      description: "Credentials file, generated with github.com/nats-io/nsc tool."
                      type: "string"
                    secret:
                      properties:
                        name:
                          description: "Name of the secret with the creds."
                          type: "string"
                      type: "object"
                  type: "object"
                name:
                  description: "A unique name for the Account."
                  minLength: 1
                  pattern: "^[^.*>]*$"
                  type: "string"
                servers:
                  description: "A list of servers to connect."
                  items:
                    minLength: 1
                    type: "string"
                  minLength: 1
                  type: "array"
                tls:
                  description: "The TLS certs to be used to connect to the NATS Service."
                  properties:
                    ca:
                      description: "Filename of the Root CA of the TLS cert."
                      type: "string"
                    cert:
                      description: "Filename of the TLS cert."
                      type: "string"
                    key:
                      description: "Filename of the TLS cert key."
                      type: "string"
                    secret:
                      properties:
                        name:
                          description: "Name of the TLS secret with the certs."
                          type: "string"
                      type: "object"
                  type: "object"
              type: "object"
          type: "object"
      served: true
      storage: true
      subresources:
        status: {}
